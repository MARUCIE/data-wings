{
  "name": "real_api_core_path",
  "fixture": "fixtures/replay/real_api/core_path.fixture.json",
  "base_url": "http://localhost:4009",
  "generated_at": "2026-02-13T01:24:24.768516+00:00",
  "variables": {
    "EMAIL": "replay-admin-1770945864-by4u@datawings.local",
    "PASSWORD": "<redacted>",
    "ANON_ID": "anon-1770945864-2vm7y2"
  },
  "steps": [
    {
      "index": 1,
      "name": "signup",
      "request": {
        "method": "POST",
        "url": "http://localhost:4009/api/v1/auth/signup",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "email": "replay-admin-1770945864-by4u@datawings.local",
          "password": "datawings123",
          "role": "admin"
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/json; charset=utf-8",
          "Date": "Fri, 13 Feb 2026 01:24:24 GMT",
          "Content-Length": "561",
          "Connection": "close"
        },
        "json": {
          "status": "ok",
          "token": "<redacted>",
          "user": {
            "id": "b9e9a6a1-c9ae-49b2-a09f-87e1709553da",
            "email": "replay-admin-1770945864-by4u@datawings.local",
            "role": "admin",
            "created_at": "2026-02-13T01:24:24.84789418Z"
          }
        },
        "raw": null
      },
      "expect_status": [
        201
      ],
      "ok": true
    },
    {
      "index": 2,
      "name": "login",
      "request": {
        "method": "POST",
        "url": "http://localhost:4009/api/v1/auth/login",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "email": "replay-admin-1770945864-by4u@datawings.local",
          "password": "datawings123"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8",
          "Date": "Fri, 13 Feb 2026 01:24:24 GMT",
          "Content-Length": "561",
          "Connection": "close"
        },
        "json": {
          "status": "ok",
          "token": "<redacted>",
          "user": {
            "id": "b9e9a6a1-c9ae-49b2-a09f-87e1709553da",
            "email": "replay-admin-1770945864-by4u@datawings.local",
            "role": "admin",
            "created_at": "2026-02-13T01:24:24.84789418Z"
          }
        },
        "raw": null
      },
      "expect_status": [
        200
      ],
      "ok": true
    },
    {
      "index": 3,
      "name": "me",
      "request": {
        "method": "GET",
        "url": "http://localhost:4009/api/v1/auth/me",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "<redacted>"
        },
        "body": null
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8",
          "Date": "Fri, 13 Feb 2026 01:24:24 GMT",
          "Content-Length": "183",
          "Connection": "close"
        },
        "json": {
          "status": "ok",
          "user": {
            "id": "b9e9a6a1-c9ae-49b2-a09f-87e1709553da",
            "email": "replay-admin-1770945864-by4u@datawings.local",
            "role": "admin",
            "created_at": "2026-02-13T01:24:24.84789418Z"
          }
        },
        "raw": null
      },
      "expect_status": [
        200
      ],
      "ok": true
    },
    {
      "index": 4,
      "name": "track_event",
      "request": {
        "method": "POST",
        "url": "http://localhost:4009/api/v1/track",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "event_name": "fixture_core_path_event",
          "anonymous_id": "anon-1770945864-2vm7y2",
          "user_id": "b9e9a6a1-c9ae-49b2-a09f-87e1709553da",
          "properties": {
            "source": "real_api_fixture",
            "scenario": "core_path"
          }
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8",
          "Date": "Fri, 13 Feb 2026 01:24:24 GMT",
          "Content-Length": "91",
          "Connection": "close"
        },
        "json": {
          "event_id": "2d934ed2-33ea-47a7-97f5-b4a5d02cd66e",
          "message": "Event tracked",
          "status": "ok"
        },
        "raw": null
      },
      "expect_status": [
        200
      ],
      "ok": true
    },
    {
      "index": 5,
      "name": "overview",
      "request": {
        "method": "GET",
        "url": "http://localhost:4009/api/v1/overview",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "<redacted>"
        },
        "body": null
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8",
          "Date": "Fri, 13 Feb 2026 01:24:24 GMT",
          "Content-Length": "285",
          "Connection": "close"
        },
        "json": {
          "data": {
            "dau": [
              {
                "date": "2026-02-11T00:00:00Z",
                "dau": 1
              },
              {
                "date": "2026-02-12T00:00:00Z",
                "dau": 5
              },
              {
                "date": "2026-02-13T00:00:00Z",
                "dau": 2
              }
            ],
            "event_counts": [
              {
                "count": 8,
                "event_name": "fixture_core_path_event"
              }
            ],
            "time_range": {
              "end_date": "2026-02-13",
              "start_date": "2026-02-06"
            }
          },
          "status": "ok"
        },
        "raw": null
      },
      "expect_status": [
        200
      ],
      "ok": true
    },
    {
      "index": 6,
      "name": "ask",
      "request": {
        "method": "POST",
        "url": "http://localhost:4009/api/v1/ask",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "<redacted>"
        },
        "body": {
          "question": "过去7天有哪些事件类型？",
          "context": {
            "source": "real_api_fixture"
          }
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8",
          "Date": "Fri, 13 Feb 2026 01:24:28 GMT",
          "Content-Length": "422",
          "Connection": "close"
        },
        "json": {
          "data": {
            "question": "过去7天有哪些事件类型？",
            "sql": "SELECT DISTINCT event_name FROM events WHERE event_date >= today() - 7",
            "explanation": "This query retrieves the distinct event types (event_name) that occurred in the last 7 days by filtering the events table for records where the event_date is within the past 7 days.",
            "confidence": 0.98,
            "data": [
              {
                "event_name": "fixture_core_path_event"
              }
            ]
          },
          "status": "ok"
        },
        "raw": null
      },
      "expect_status": [
        200,
        503
      ],
      "ok": true
    },
    {
      "index": 7,
      "name": "dashboards",
      "request": {
        "method": "GET",
        "url": "http://localhost:4009/api/v1/dashboards",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "<redacted>"
        },
        "body": null
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=utf-8",
          "Date": "Fri, 13 Feb 2026 01:24:28 GMT",
          "Content-Length": "1296",
          "Connection": "close"
        },
        "json": {
          "dashboards": [
            {
              "id": "default",
              "name": "Overview",
              "description": "Default analytics dashboard",
              "widgets": [
                {
                  "id": "dau-chart",
                  "type": "chart",
                  "title": "Daily Active Users",
                  "query": "SELECT toDate(event_time) AS date, uniq(user_id) AS dau FROM events WHERE event_date >= today() - 7 GROUP BY date ORDER BY date",
                  "config": {
                    "chartType": "line",
                    "xAxis": "date",
                    "yAxis": "dau"
                  },
                  "position": {
                    "x": 0,
                    "y": 0,
                    "width": 6,
                    "height": 4
                  }
                },
                {
                  "id": "events-chart",
                  "type": "chart",
                  "title": "Events by Type",
                  "query": "SELECT event_name, count() AS count FROM events WHERE event_date >= today() - 7 GROUP BY event_name ORDER BY count DESC LIMIT 10",
                  "config": {
                    "chartType": "bar",
                    "xAxis": "event_name",
                    "yAxis": "count"
                  },
                  "position": {
                    "x": 6,
                    "y": 0,
                    "width": 6,
                    "height": 4
                  }
                },
                {
                  "id": "total-events",
                  "type": "metric",
                  "title": "Total Events (7d)",
                  "query": "SELECT count() AS total FROM events WHERE event_date >= today() - 7",
                  "config": {
                    "format": "number"
                  },
                  "position": {
                    "x": 0,
                    "y": 4,
                    "width": 3,
                    "height": 2
                  }
                },
                {
                  "id": "unique-users",
                  "type": "metric",
                  "title": "Unique Users (7d)",
                  "query": "SELECT uniq(user_id) AS users FROM events WHERE event_date >= today() - 7",
                  "config": {
                    "format": "number"
                  },
                  "position": {
                    "x": 3,
                    "y": 4,
                    "width": 3,
                    "height": 2
                  }
                }
              ],
              "created_at": "2026-02-12T11:09:33.304694043Z",
              "updated_at": "2026-02-12T11:09:33.304694126Z"
            }
          ],
          "status": "ok"
        },
        "raw": null
      },
      "expect_status": [
        200
      ],
      "ok": true
    }
  ],
  "summary": {
    "total_steps": 7,
    "failures": 0,
    "success": true,
    "finished_at": "2026-02-13T01:24:28.122723+00:00"
  }
}
